<section class="content-header">
  <h1>
  Pruebas
    <small>Control panel</small>
  </h1>
  <ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
    <li class="active">Pruebas</li>
  </ol>
</section>



<section class="content">
    <div class="row">
    <section class="col-lg-12 connectedSortable">

        <div class="box box-primary" style="overflow: auto;">

          <table class="table table-hover table-dark table-condensed">
            <thead> 
              <th>Id</th> <th>Nombre</th> 
              <th>Alias</th> 
              <th>Dirigido o Manual</th> 
              <th>Mostrar respuesta</th>
              <th>Puntos o Promedio</th> 
              <th>Tiempo de pregunta</th> 
              <th>Tiempo de examen</th>
              <th style="min-width: 100px;">Opciones</th>
            </thead>
             <tbody> 
               <tr  ng-repeat="p in pruebas">
                    <th scope="row">{{p.rowid}}</th>
                    <td>
                      <span ng-show="!p.editando">{{p.nombre}}</span>
                      <span ng-show="p.editando"><input type="text" ng-model="p.nombre"></span>

                    </td>
                    <td><span ng-show="!p.editando">{{p.alias}}</span>
                      <span ng-show="p.editando"><input type="text" ng-model="p.alias"></span>
                     </td>
                    <td><span ng-show="!p.editando">{{p.dirigido}}</span>
                      <span ng-show="p.editando">
                        <label>
                          <input type="radio" ng-model="p.dirigido" value="Dirigido">Dirigido
                        </label>
                        
                        <label>
                          <input type="radio" ng-model="p.dirigido" value="Manual">Manual
                        </label>
                        
                      </span>
                    </td>
                    <td><span ng-show="!p.editando">{{p.mostrar_respuesta}}</span>
                      <span ng-show="p.editando">
                         <label>
                          <input type="radio" ng-model="p.mostrar_respuesta" value="Si">Si
                        </label>
                        
                        <label>
                          <input type="radio" ng-model="p.mostrar_respuesta" value="No">No
                        </label>
                        
                    </td>
                    <td><span ng-show="!p.editando">{{p.puntos_promedio}}</span>
                       <span ng-show="p.editando">
                         <label>
                          <input type="radio" ng-model="p.puntos_promedio" value="Puntos">Puntos
                        </label>
                        
                        <label>
                          <input type="radio" ng-model="p.puntos_promedio" value="Promedio">Promedio
                        </label> 
                    </td>
                    <td><span ng-show="!p.editando">{{p.tiempo_preg}}</span>
                      <span ng-show="p.editando">
                         <label>
                          <input type="radio" ng-model="p.por_tiempo_preg" value="Si">Si
                        </label>
                        
                        <label>
                          <input type="radio" ng-model="p.por_tiempo_preg" value="No">No
                        </label>
                         <div ng-show="p.por_tiempo_preg=='Si'">
                             <input type="text" placeholder="Tiempo de pregunta" ng-model="p.tiempo_preg">
                         </div>
                      </span>
                    </td>
                    <td><span ng-show="!p.editando">{{p.tiempo_exam}}</span>
                      <span ng-show="p.editando">
                         <input type="text" ng-model="tiempo_preg">
                     
                    </td>




                    <td style="padding: 0px;">
                      <span ng-show="!p.editando">
                          <div class="btn-group">

                            <button uib-tooltip="Eliminar" class="btn-xs btn btn-danger glyphicon glyphicon-remove-sign" ng-click="eliminar_test(p.rowid)"></button> 
                            
                            <button type="button" ng-click="editarP(p)" uib-tooltip="Editar" class="btn-xs btn btn-info glyphicon glyphicon-pencil"></button> 
                            
                            <button ng-show="p.actual!=1" type="button" ng-click="seleccionarPrueba(p)" uib-tooltip="Seleccionar" class="btn-xs btn btn-info glyphicon glyphicon-hand-up"></button> 
                            
                            <button ng-show="p.actual==1" type="button" uib-tooltip="Seleccionada" class="btn-xs btn glyphicon glyphicon-thumbs-up"></button> 
                            
                            <button type="button" ng-click="verDetallesPrueba(p)" uib-tooltip="Ver Participantes y Preguntas"  class="btn btn-xs btn-default glyphicon glyphicon-menu-right"></button>

                          </div>
                      </span>

                       <button ng-click="editarPrueba(p)" ng-show="p.editando" class="btn-xs btn btn-info glyphicon glyphicon-ok"></button> 
                    </td>
                
               </tr>
             </tbody> 
          </table>


          <button type="button" class="btn btn-primary btn-lg btn-block" name="boton1" ng-show="!mostrando" ng-click="mostrar()">Crear usuarios</button>
          
            
                  <div  ng-show="mostrando">
                    <h2>Crea tus pruebas</h2>

                    <div class="row">
                      <div class="col-sm-12">
                          <div class="row">
                            <div class="col-sm-3">
                             <label>Nombre:</label> 
                            </div>
                            <div class="col-sm-3">
                             <input type="text" ng-model="crea.nombre">
                            </div>
                          </div>
                           <div class="row">
                            <div class="col-sm-3">
                             <label>Alias:</label> 
                            </div>
                            <div class="col-sm-3">
                             <input type="text" ng-model="crea.alias">
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-sm-3">
                             <label>Dirigido o Manual:</label> 
                            </div>
                            
                          
                              <div class="col-sm-4">
                               <label>
                                <input type="radio" ng-model="crea.dirigido" value="Dirigido">Dirigido
                              </label>
                               </div>
                              <div class="col-sm-5">
                              <label>
                                <input type="radio" ng-model="crea.dirigido" value="Manual">Manual
                              </label>
                              </div>
                        
                            </div>
                        </div>
                      </div>


                       <div class="row">
                        <div class="col-sm-3">
                         <label>Mostrar respuesta?:</label> 
                        </div>
                        
                      
                          <div class="col-sm-4">
                           <label>
                            <input type="radio" ng-model="crea.mostrar_respuesta" value="Si">Si
                          </label>
                           </div>
                          <div class="col-sm-5">
                          <label>
                            <input type="radio" ng-model="crea.mostrar_respuesta" value="No">No
                          </label>
                          </div>
                    
                      </div>
                       <div class="row">
                        <div class="col-sm-3">
                         <label>Puntos o Promedio:</label> 
                        </div>
                        
                      
                          <div class="col-sm-4">
                           <label>
                            <input type="radio" ng-model="crea.puntos_promedio" value="Puntos">Por puntos
                          </label>
                           </div>
                          <div class="col-sm-5">
                          <label>
                            <input type="radio" ng-model="crea.puntos_promedio" value="Promedio">Por promedio
                          </label>
                          </div>
                    
                      </div>

                       <div class="row">
                        <div class="col-sm-3">
                         <label>Tiempo de pregunta?:</label> 
                        </div>
                        
                      
                          <div class="col-sm-4">
                           <label>
                            <input type="radio" ng-model="crea.por_tiempo_preg" value="Si">Si
                          </label>
                         
                           </div>
                          <div class="col-sm-5">
                          <label>
                            <input type="radio" ng-model="crea.por_tiempo_preg" value="No">No
                          </label>
                          </div>
                        
                              <div ng-show="crea.por_tiempo_preg=='Si'">
                             <input type="text" placeholder="Tiempo de pregunta" ng-model="crea.tiempo_preg">
                         </div> 

                        </div>     
                      <div class="row">
                        <div class="col-sm-3">
                         <label>Tiempo de examen:</label> 
                        </div>
                        <div class="col-sm-3">
                         <input type="text" ng-model="crea.tiempo_exam">
                        </div>
                      </div>
                      
                    
                      <button type="button" class="btn btn-info" ng-click="insertarPrueba(crea)">Insertar</button>
                      <button type="button" class="btn btn-danger" ng-click="salir()">Cancelar</button>

                  </div>
                  <div ng-show="dejarver">
                        <table class="table table-hover table-dark">
                              <thead>
                               <th>Participantes</th>
                              </thead>
                                   <tbody> 
                                        <tr  ng-repeat="usuario in usuarios">
                                          <td>{{usuario.nombres}} {{usuario.apellidos}}</td>
                                       </tr>
                                   </tbody> 
                        </table>
                         <table class="table table-hover table-dark">
                              <thead>
                               <th>Preguntas</th>
                              </thead>
                                   <tbody> 
                                          <tr  ng-repeat="usuario in usuarios">
                                          <td>Pregunta N°{{usuario.rowid}} Tipo: {{usuario.tipo}}</td>
                                       </tr>
                                   </tbody> 
                        </table>
                         <button type="button" class="btn btn-danger" name="boton3"  ng-click="ocultar()">Cerrar</button>
                   </div>

             </div>
   </section>
   </div>

</section>
